Hello, Alexandre
I have already developed reflection contract according to your requirement and tested it using hardhat.
So I attached testscript.

To exclude a address from reflection, please use setIsDividendExempt().
Also reflection occurs whenever transfer or buy, sell.

If you have anyquestion, please let me know here.
telegram: @adonisdev
skype: live:.cid.af8c53398f48d6f4
mail: adonisdev0129@gmail.com

Best regards.